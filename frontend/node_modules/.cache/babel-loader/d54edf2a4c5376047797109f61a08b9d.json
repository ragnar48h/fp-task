{"ast":null,"code":"var _jsxFileName = \"/home/hasir/Personal Projects/Financepeer/new/frontend/src/components/upload.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Upload() {\n  _s();\n\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [fileSelected, setFileSelected] = useState(false);\n  const [fileValid, setFileValidation] = useState(false);\n  const [data, setData] = useState({});\n\n  const handleDragEnter = e => {\n    e.preventDefault();\n    console.log(\"drag enter\");\n  };\n\n  const handleDragLeave = e => {\n    e.preventDefault();\n    console.log(\"drag leave\");\n  };\n\n  const handleDragOver = e => {\n    e.preventDefault();\n    console.log(\"drag over\");\n  };\n\n  const validateFile = file => {\n    console.log(\"File Type:\", file[0].type);\n    if (file[0].type === 'application/json') setFileValidation(true);else setFileValidation(false);\n  };\n\n  const handleDrop = e => {\n    e.preventDefault();\n    console.log(\"drag drop\");\n    const files = e.dataTransfer.files;\n    setSelectedFile(files);\n    validateFile(files);\n    setFileSelected(true);\n    console.log(files);\n  };\n\n  const handleInputChange = event => {\n    event.preventDefault();\n    console.log(\"blah blah\");\n    const files = event.target.files;\n    setSelectedFile(files);\n    validateFile(files);\n    setFileSelected(true);\n    console.log(files);\n  };\n\n  const submit = () => {\n    console.log(selectedFile);\n    const reader = new FileReader();\n\n    reader.onload = async e => {\n      const text = e.target.result;\n      console.log(typeof text);\n      let JSONData = JSON.parse(text);\n      setData(JSONData);\n    };\n\n    reader.readAsText(selectedFile[0]);\n    uploadData();\n  };\n\n  const uploadData = () => {\n    // for (let index = 0; index < data.length; index++) {\n    //   let currentData = data[index];\n    //   axios\n    //   .put(\"http://localhost:8000/api/data/\", currentData)\n    //   .then((res) => console.log(res))\n    //   .catch(err => console.log(err))\n    // }\n    let currentData = data[0];\n    console.log(currentData);\n    let dummy = {\n      \"data\": {\n        \"userId\": 1,\n        \"id\": 1,\n        \"title\": \"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\",\n        \"body\": \"quia et suscipit\\nsuscipit recusandae consequuntur expedita et cum\\nreprehenderit molestiae ut ut quas totam\\nnostrum rerum est autem sunt rem eveniet architecto\"\n      }\n    };\n    axios.post(\"http://localhost:8000/api/data/\", dummy).then(res => console.log(res)).catch(err => console.log(err));\n  };\n\n  const check = () => {\n    console.log(data[0]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-8 bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Upload JSON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onDrop: e => handleDrop(e),\n        onDragOver: e => handleDragOver(e),\n        onDragEnter: e => handleDragEnter(e),\n        onDragLeave: e => handleDragLeave(e),\n        className: \"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"mx-auto h-12 w-12 text-gray-400\",\n            stroke: \"currentColor\",\n            fill: \"none\",\n            viewBox: \"0 0 48 48\",\n            \"aria-hidden\": \"true\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\",\n              strokeWidth: 2,\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this), fileSelected ? fileValid ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"pl-1 text-sm text-gray-600\",\n              children: [\"File Selected:\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"relative bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\",\n                children: selectedFile[0].name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"file-upload\",\n              className: \"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: \"Change file?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: handleInputChange,\n                id: \"file-upload\",\n                name: \"file-upload\",\n                type: \"file\",\n                className: \"sr-only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"relative bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500\",\n                children: \"Invalid File Type: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"pl-1\",\n                children: \"Please upload JSON File only.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"file-upload\",\n              className: \"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: \"Upload again.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: handleInputChange,\n                id: \"file-upload\",\n                name: \"file-upload\",\n                type: \"file\",\n                className: \"sr-only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file-upload\",\n                className: \"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Upload a file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: handleInputChange,\n                  id: \"file-upload\",\n                  name: \"file-upload\",\n                  type: \"file\",\n                  className: \"sr-only\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"pl-1\",\n                children: \"or drag and drop\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: \"JSON File up to 10MB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 py-3 bg-gray-50 text-right sm:px-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submit,\n        type: \"submit\",\n        className: \"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: check,\n        type: \"submit\",\n        className: \"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n        children: \"CHECK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Upload, \"WGsqIT7Ektbyy9zf+Ai3J/U89DY=\");\n\n_c = Upload;\n\nvar _c;\n\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"sources":["/home/hasir/Personal Projects/Financepeer/new/frontend/src/components/upload.js"],"names":["React","useState","axios","Upload","selectedFile","setSelectedFile","fileSelected","setFileSelected","fileValid","setFileValidation","data","setData","handleDragEnter","e","preventDefault","console","log","handleDragLeave","handleDragOver","validateFile","file","type","handleDrop","files","dataTransfer","handleInputChange","event","target","submit","reader","FileReader","onload","text","result","JSONData","JSON","parse","readAsText","uploadData","currentData","dummy","post","then","res","catch","err","check","name"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nexport default function Upload () {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [fileSelected, setFileSelected] = useState(false);\n  const [fileValid, setFileValidation] = useState(false);\n  const [data, setData] = useState({});\n  \n  const handleDragEnter = e => {\n    e.preventDefault();\n    console.log(\"drag enter\");\n  };\n\n  const handleDragLeave = e => {\n    e.preventDefault();\n    console.log(\"drag leave\");\n  };\n\n  const handleDragOver = e => {\n    e.preventDefault();\n    console.log(\"drag over\");\n  };\n\n  const validateFile = (file) => {\n    console.log(\"File Type:\", file[0].type);\n    if( file[0].type === 'application/json')\n      setFileValidation(true);  \n    else\n      setFileValidation(false);\n  }\n\n  const handleDrop = e => {\n    e.preventDefault();\n    console.log(\"drag drop\");\n    const files = e.dataTransfer.files;\n    setSelectedFile(files);\n    validateFile(files);\n    setFileSelected(true);\n    console.log(files);\n  };\n\n  const handleInputChange = event => {\n    event.preventDefault();\n    console.log(\"blah blah\");\n    const files = event.target.files;\n    setSelectedFile(files);\n    validateFile(files);\n    setFileSelected(true);\n    console.log(files);\n  };\n\n  const submit = () => {\n    console.log(selectedFile)\n    const reader = new FileReader()\n    reader.onload = async (e) => { \n      const text = (e.target.result)\n      console.log(typeof text)\n      let JSONData = JSON.parse(text);\n      setData(JSONData);\n    };\n    reader.readAsText(selectedFile[0])\n    uploadData();\n  }\n  const uploadData = () => {\n    // for (let index = 0; index < data.length; index++) {\n    //   let currentData = data[index];\n    //   axios\n    //   .put(\"http://localhost:8000/api/data/\", currentData)\n    //   .then((res) => console.log(res))\n    //   .catch(err => console.log(err))\n    // }\n    let currentData = data[0];\n    console.log(currentData);\n    let dummy = {\n      \"data\": {\n        \"userId\": 1,\n        \"id\": 1,\n        \"title\": \"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\",\n        \"body\": \"quia et suscipit\\nsuscipit recusandae consequuntur expedita et cum\\nreprehenderit molestiae ut ut quas totam\\nnostrum rerum est autem sunt rem eveniet architecto\"\n      }\n    };\n    axios\n    .post(\"http://localhost:8000/api/data/\", dummy)\n    .then((res) => console.log(res))\n    .catch(err => console.log(err))\n  }\n  const check = () => {\n    console.log(data[0]);\n  }\n    return (\n      <div className=\"p-8 bg-gray-50\">\n        <div>\n            <label className=\"block text-sm font-medium text-gray-700\">Upload JSON</label>\n            <div \n              onDrop={e => handleDrop(e)}\n              onDragOver={e => handleDragOver(e)}\n              onDragEnter={e => handleDragEnter(e)}\n              onDragLeave={e => handleDragLeave(e)}\n              className=\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\">\n              <div className=\"space-y-1 text-center\">\n                <svg\n                  className=\"mx-auto h-12 w-12 text-gray-400\"\n                  stroke=\"currentColor\"\n                  fill=\"none\"\n                  viewBox=\"0 0 48 48\"\n                  aria-hidden=\"true\"\n                >\n                  <path\n                    d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n                    strokeWidth={2}\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                </svg>\n                {fileSelected ? (fileValid ? (\n                  <div>\n                    <p className=\"pl-1 text-sm text-gray-600\">\n                      File Selected:{' '}\n                      <span className=\"relative bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\">{selectedFile[0].name}</span>\n                    </p>\n                    <label\n                      htmlFor=\"file-upload\"\n                      className=\"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\"\n                    >\n                      <span className=\"text-sm\">Change file?</span>\n                      <input onChange={handleInputChange} id=\"file-upload\" name=\"file-upload\" type=\"file\" className=\"sr-only\" />\n                    </label>\n                  </div>\n                ):(\n                  <div>\n                    <div className=\"flex text-sm text-gray-600\">\n                        <span className=\"relative bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500\">Invalid File Type: </span>\n                        <p className=\"pl-1\">Please upload JSON File only.</p>\n                    </div>\n                    <label\n                      htmlFor=\"file-upload\"\n                      className=\"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\"\n                    >\n                      <span className=\"text-sm\">Upload again.</span>\n                      <input onChange={handleInputChange} id=\"file-upload\" name=\"file-upload\" type=\"file\" className=\"sr-only\" />\n                    </label>\n                  </div>\n                )) : (\n                  <div>\n                    <div className=\"flex text-sm text-gray-600\">\n                      <label\n                        htmlFor=\"file-upload\"\n                        className=\"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\"\n                      >\n                        <span>Upload a file</span>\n                        <input onChange={handleInputChange} id=\"file-upload\" name=\"file-upload\" type=\"file\" className=\"sr-only\" />\n                      </label>\n                      <p className=\"pl-1\">or drag and drop</p>\n                    </div>\n                    <p className=\"text-xs text-gray-500\">JSON File up to 10MB</p>\n                  </div>  \n                )}\n              </div>\n            </div>\n        </div>\n        <div className=\"px-4 py-3 bg-gray-50 text-right sm:px-6\">\n          <button\n            onClick={submit}\n            type=\"submit\"\n            className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            Upload\n          </button>\n          <button\n            onClick={check}\n            type=\"submit\"\n            className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            CHECK\n          </button>\n        </div>\n      </div>\n    );\n  }\n  "]},"metadata":{},"sourceType":"module"}